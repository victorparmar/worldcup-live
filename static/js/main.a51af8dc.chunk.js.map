{"version":3,"sources":["services/EventService.js","services/SfgFixtureService.js","services/NotificationService.js","services/AppService.js","components/Navbar.js","components/Footer.js","components/InPlay.js","App.js","index.js"],"names":["EventNames","EventService","callbacks","onDataUpdate","onRefreshDataRequestInProgress","onRefreshDataRequestDone","triggerEvent","eventName","_this","this","data","arguments","length","undefined","Object","keys","forEach","id","listenEvent","callback","unlistenEvent","chance","Chance","SfgFixtureService","fetchFixtures","fetch","method","then","response","json","fetchFixturesTest","console","log","moment","format","result","JSON","parse","stringify","SampleMatches","bool","filter","fixture","status","Promise","resolve","setTimeout","getMatchesInPlay","fixtures","filterFixtures","getMatchesFinished","getMatchesUpcoming","getNextMatches","upcomingMatches","sorted","sort","a","b","aTime","date","unix","bTime","nextDate","match","getSimpleFixture","fifa_id","datetime","home","home_team","country","homeScore","goals","away","away_team","awayScore","time","statuses","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","err","return","map","NotificationService","notify","text","window","Notification","permission","requestPermission","alert","Store","matchesInPlay","AppService","refreshIntervalInPlayId","refreshIntervalInPlay","refreshIntervalId","refreshInterval","refreshTimeoutId","env","refreshData","_refreshData","asyncToGenerator","regenerator_default","mark","_callee","matchesFinished","matchesUpcoming","nextMatches","wrap","_context","prev","sent","hasChanged","getLiveNotificationText","t0","error","updateRefreshInterval","finish","stop","apply","init","_init","_callee2","_context2","_x","clearTimeout","_callee3","_context3","_callee4","_context4","getCurrentRefreshInterval","concat","Navbar","intervalId","state","isNavbarActive","isRefreshingData","timeToNextRefresh","handleNavbarMenuClick","e","preventDefault","setState","handleToggleInPlayClick","props","toggleInPlay","handleRefreshDataClick","handleRefreshDataInProgress","handleRefreshDataDone","_this2","setInterval","prevState","react_default","createElement","className","data-target","onClick","href","React","Component","Footer","version","InPlay","renderWithTime","renderWithoutTime","NextMatch","local","FinishedMatch","App","newState","objectSpread","handleOnDataUpdate","ref","elem","appElem","components_Navbar","renderInPlay","renderNextUp","src_components_Footer","packageJson","renderFinished","key","components_InPlay","App_FinishedMatch","App_NextMatch","fontawesome","library","add","faUser","faCircle","faUserCircle","faTimes","faAngleDown","faFacebook","faGithub","faCircleNotch","faTrophy","urlParams","URLSearchParams","location","search","has","get","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.a51af8dc.chunk.js","sourcesContent":["/**\n * Stupid simple redux implementation without a global store\n */\n\nexport const EventNames = {\n  ON_DATA_UPDATE: \"onDataUpdate\",\n  ON_REFRESH_DATA_REQUEST_IN_PROGRESS: \"onRefreshDataRequestInProgress\",\n  ON_REFRESH_DATA_REQUEST_DONE: \"onRefreshDataRequestDone\",\n  ON_REFRESH_DATA_REQUEST_FAILED: \"onRefreshDataRequestFailed\"\n};\n\nconst EventService = {\n  callbacks: {\n    onDataUpdate: {},\n    onRefreshDataRequestInProgress: {},\n    onRefreshDataRequestDone: {}\n  },\n  /**\n   * @param {string} eventName\n   * @param {*} data\n   */\n  triggerEvent(eventName, data = null) {\n    if (this.callbacks[eventName]) {\n      Object.keys(this.callbacks[eventName]).forEach(id => {\n        this.callbacks[eventName][id](data);\n      });\n    }\n  },\n\n  /**\n   * @param {string} eventName name of event\n   * @param {string} id callback identifier\n   * @param {Function} callback\n   */\n  listenEvent(eventName, id, callback) {\n    this.callbacks[eventName][id] = callback;\n  },\n\n  /**\n   * @param {string} eventName name of event\n   * @param {string} id callback identifier\n   */\n  unlistenEvent(eventName, id) {\n    delete this.callbacks[eventName][id];\n  }\n};\n\nexport default EventService;\n","import fetch from \"isomorphic-fetch\";\nimport moment from \"moment\";\nimport Chance from \"chance\";\nimport SampleMatches from \"./sample-matches.json\";\n\nconst chance = new Chance();\n\nconst SfgFixtureService = {\n  fetchFixtures: () => {\n    return fetch(\"https://world-cup-json.herokuapp.com/matches\", {\n      method: \"GET\"\n    }).then(response => {\n      return response.json();\n    });\n  },\n  fetchFixturesTest: () => {\n    console.log(\"fetchFixturesTest\", moment().format(\"HH:mm:ss\"));\n\n    let result = JSON.parse(JSON.stringify(SampleMatches));\n\n    if (chance.bool()) {\n      result = result.filter(fixture => {\n        return fixture.status !== \"in progress\";\n      });\n    }\n\n    return new Promise(function(resolve) {\n      setTimeout(function() {\n        resolve(result);\n      }, 1000);\n    });\n  },\n  getMatchesInPlay: fixtures => {\n    return filterFixtures(fixtures, [\"in progress\", \"pending_correction\"]);\n  },\n  getMatchesFinished: fixtures => {\n    return filterFixtures(fixtures, [\"completed\"]);\n  },\n  getMatchesUpcoming: fixtures => {\n    return filterFixtures(fixtures, [\"future\"]);\n  },\n  getNextMatches: upcomingMatches => {\n    const sorted = upcomingMatches.sort((a, b) => {\n      const aTime = moment(a.date).unix();\n      const bTime = moment(b.date).unix();\n\n      if (aTime < bTime) {\n        return -1;\n      }\n\n      if (aTime > bTime) {\n        return 1;\n      }\n\n      return 0;\n    });\n\n    if (sorted.length) {\n      const nextDate = moment(sorted[0].date);\n\n      return sorted.filter(match => {\n        const date = moment(match.date);\n        return nextDate.format(\"YYYY-MM-DD\") === date.format(\"YYYY-MM-DD\");\n      });\n    }\n\n    return [];\n  }\n};\n\nconst getSimpleFixture = fixture => {\n  return {\n    id: fixture.fifa_id,\n    date: fixture.datetime,\n    home: fixture.home_team.country,\n    homeScore: fixture.home_team.goals,\n    away: fixture.away_team.country,\n    awayScore: fixture.away_team.goals,\n    time: fixture.time\n  };\n};\n\nconst filterFixtures = (fixtures, statuses) => {\n  return fixtures\n    .filter(fixture => {\n      for (const status of statuses) {\n        if (fixture.status === status) {\n          return true;\n        }  \n      }\n      return false;\n    })\n    .map(getSimpleFixture);\n};\n\nexport default SfgFixtureService;\n","const NotificationService = {\n  notify: text => {\n    if (!(\"Notification\" in window)) {\n      alert(\"This browser does not support desktop notification\");\n    } else if (Notification.permission === \"granted\") {\n      // eslint-disable-next-line no-unused-vars\n      const notification = new Notification(text);\n    } else if (Notification.permission !== \"denied\") {\n      Notification.requestPermission(function(permission) {\n        if (permission === \"granted\") {\n          // eslint-disable-next-line no-unused-vars\n          const notification = new Notification(text);\n        }\n      });\n    }\n\n    // permission denied ...\n  }\n};\n\nexport default NotificationService;\n","import SfgFixtureService from \"./SfgFixtureService\";\nimport EventService, { EventNames } from \"./EventService\";\nimport NotificationService from \"./NotificationService\";\n\nconst Store = {\n  fixtures: [],\n  matchesInPlay: []\n};\n\nconst AppService = {\n  refreshIntervalInPlayId: null,\n  refreshIntervalInPlay: 60 * 1000,\n  refreshIntervalId: null,\n  refreshInterval: 5 * 60 * 1000,\n  refreshTimeoutId: null,\n  env: \"prod\",\n  async refreshData() {\n    EventService.triggerEvent(EventNames.ON_REFRESH_DATA_REQUEST_IN_PROGRESS);\n\n    try {\n      let fixtures = null;\n\n      if (this.env === \"prod\") {\n        fixtures = await SfgFixtureService.fetchFixtures();\n      } else {\n        fixtures = await SfgFixtureService.fetchFixturesTest();\n      }\n\n      if (hasChanged(Store.fixtures, fixtures)) {\n        const matchesInPlay = SfgFixtureService.getMatchesInPlay(fixtures);\n\n        if (hasChanged(Store.matchesInPlay, matchesInPlay)) {\n          if (this.env === \"dev\") {\n            console.log(Store.matchesInPlay, matchesInPlay); // TODO: improve logging\n          }\n\n          if (matchesInPlay.length) {\n            NotificationService.notify(getLiveNotificationText(matchesInPlay));\n          } else {\n            // match ended!\n            NotificationService.notify(\"Finished \\n\" + getLiveNotificationText(Store.matchesInPlay));\n          }\n\n          Store.matchesInPlay = JSON.parse(JSON.stringify(matchesInPlay));\n        }\n\n        const matchesFinished = SfgFixtureService.getMatchesFinished(fixtures);\n        const matchesUpcoming = SfgFixtureService.getMatchesUpcoming(fixtures);\n        const nextMatches = SfgFixtureService.getNextMatches(matchesUpcoming);\n\n        EventService.triggerEvent(EventNames.ON_DATA_UPDATE, {\n          matchesInPlay,\n          matchesFinished,\n          matchesUpcoming,\n          nextMatches\n        });\n\n        Store.fixtures = JSON.parse(JSON.stringify(fixtures));\n      }\n    } catch (err) {\n      console.error(err); // TODO: improve logging\n    } finally {\n      EventService.triggerEvent(EventNames.ON_REFRESH_DATA_REQUEST_DONE);\n      this.updateRefreshInterval();\n    }\n  },\n\n  async init(env) {\n    this.env = env;\n\n    if (this.env !== \"prod\") {\n      this.refreshIntervalInPlay = 5 * 1000;\n      this.refreshInterval = 10 * 1000;\n    }\n\n    NotificationService.notify(\"Welcome to World Cup live 2018!\");\n    await this.refreshData();\n  },\n\n  updateRefreshInterval() {\n    if (this.refreshTimeoutId) {\n      clearTimeout(this.refreshTimeoutId);\n    }\n\n    if (Store.matchesInPlay.length) {\n      this.refreshTimeoutId = setTimeout(async () => {\n        await this.refreshData();\n      }, this.refreshIntervalInPlay);\n      console.log(\"Matches in play, next refresh in \" + this.refreshIntervalInPlay / 1000 + \" seconds\");\n    } else {\n      this.refreshTimeoutId = setTimeout(async () => {\n        await this.refreshData();\n      }, this.refreshInterval);\n\n      console.log(\"No matches in play, next refresh in \" + this.refreshInterval / 1000 + \" seconds\");\n    }\n  },\n\n  getCurrentRefreshInterval() {\n    if (Store.matchesInPlay.length) {\n      return this.refreshIntervalInPlay / 1000;\n    }\n    return this.refreshInterval / 1000;\n  }\n\n  /*\n  clearRefreshInterval() {\n    if (this.refreshIntervalId) {\n      clearInterval(this.refreshIntervalId);\n      this.refreshIntervalId = null;\n    }\n  },\n\n  clearRefreshIntervalInPlay() {\n    if (this.refreshIntervalInPlayId) {\n      clearInterval(this.refreshIntervalInPlayId);\n      this.refreshIntervalInPlayId = null;\n    }\n  }\n  */\n};\n\nconst hasChanged = (prev, next) => {\n  // yes I am a dirty, dirty rat...\n  if (JSON.stringify(prev) !== JSON.stringify(next)) {\n    return true;\n  }\n  return false;\n};\n\nconst getLiveNotificationText = matchesInPlay => {\n  let result = \"\";\n\n  for (const match of matchesInPlay) {\n    result += `${match.time} ${match.home} ${match.homeScore} - ${match.away} ${match.awayScore} \\n`;\n  }\n  return result;\n};\n\nexport default AppService;\n","import React from \"react\";\n\nimport EventService, { EventNames } from \"../services/EventService\";\nimport AppService from \"../services/AppService\";\n\nclass Navbar extends React.Component {\n  intervalId = null;\n\n  state = {\n    isNavbarActive: false,\n    isRefreshingData: false,\n    timeToNextRefresh: AppService.getCurrentRefreshInterval()\n  };\n\n  handleNavbarMenuClick = e => {\n    e.preventDefault();\n    this.setState({\n      isNavbarActive: !this.state.isNavbarActive\n    });\n  };\n\n  handleToggleInPlayClick = e => {\n    e.preventDefault();\n    this.props.toggleInPlay();\n  };\n\n  handleRefreshDataClick = async e => {\n    e.preventDefault();\n    await AppService.refreshData();\n  };\n\n  handleRefreshDataInProgress = () => {\n    this.setState({\n      isRefreshingData: true\n    });\n  };\n\n  handleRefreshDataDone = () => {\n    this.setState({\n      isRefreshingData: false,\n      timeToNextRefresh: AppService.getCurrentRefreshInterval()\n    });\n  };\n\n  componentDidMount() {\n    EventService.listenEvent(\n      EventNames.ON_REFRESH_DATA_REQUEST_IN_PROGRESS,\n      \"navbar\",\n      this.handleRefreshDataInProgress\n    );\n    EventService.listenEvent(EventNames.ON_REFRESH_DATA_REQUEST_DONE, \"navbar\", this.handleRefreshDataDone);\n\n    this.intervalId = setInterval(() => {\n      this.setState((prevState, props) => {\n        return {\n          timeToNextRefresh: prevState.timeToNextRefresh - 1\n        };\n      });\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    EventService.unlistenEvent(EventNames.ON_REFRESH_DATA_REQUEST_IN_PROGRESS, \"navbar\");\n    EventService.unlistenEvent(EventNames.ON_REFRESH_DATA_REQUEST_DONE, \"navbar\");\n  }\n\n  render() {\n    return (\n      <nav className=\"navbar\">\n        <div className=\"container\">\n          <div className=\"navbar-brand\">\n            <a className=\"navbar-item\">\n              <span className=\"icon\">\n                <i className=\"fas fa-trophy\" />\n              </span>\n              <span>\n                <b>World Cup Live 2018</b>\n              </span>\n            </a>\n            <span className=\"navbar-burger burger\" data-target=\"navbarMenuHeroB\" onClick={this.handleNavbarMenuClick}>\n              <span />\n              <span />\n              <span />\n            </span>\n          </div>\n          <div id=\"navbarMenuHeroB\" className={\"navbar-menu \" + (this.state.isNavbarActive ? \"is-active\" : \"\")}>\n            <div className=\"navbar-end\">\n              {this.props.env === \"test\" && (\n                <span className=\"navbar-item\">\n                  <a className=\"button is-inverted\" onClick={this.handleToggleInPlayClick}>\n                    <span>Toggle InPlay</span>\n                  </a>\n                </span>\n              )}\n              <span className=\"navbar-item\">\n                <a\n                  className={\"button is-inverted \" + (this.state.isRefreshingData ? \"is-loading\" : \"\")}\n                  onClick={this.handleRefreshDataClick}\n                >\n                  <span>Refresh ({this.state.timeToNextRefresh > 0 ? this.state.timeToNextRefresh : \"soon\"})</span>\n                </a>\n              </span>\n              <span className=\"navbar-item\">\n                <a className=\"button is-inverted\" href=\"https://github.com/victorparmar/worldcup-live\">\n                  <span className=\"icon\">\n                    <i className=\"fab fa-github\" />\n                  </span>\n                  <span>Github</span>\n                </a>\n              </span>\n            </div>\n          </div>\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default Navbar;\n","import React from \"react\";\n\nimport \"./Footer.css\";\n\nconst Footer = props => {\n  return (\n    <div className=\"container wc-footer\">\n      <div className=\"wc-footer-text\">\n        Made with ❤ by Victor Parmar <br />\n        Version {props.version}\n      </div>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\n\nclass InPlay extends React.Component {\n  render() {\n    if (this.props.time) {\n      return this.renderWithTime();\n    }\n    return this.renderWithoutTime();\n  }\n\n  renderWithTime() {\n    return (\n      <div className=\"columns is-mobile\">\n        <div className=\"column is-5\">\n          <div className=\"country\">{this.props.home}</div>\n          <div className=\"score\">{this.props.homeScore}</div>\n        </div>\n        <div className=\"column is-2 time-container\">\n          <div className=\"time\">{this.props.time}</div>\n        </div>\n        <div className=\"column is-5\">\n          <div className=\"country\">{this.props.away}</div>\n          <div className=\"score\">{this.props.awayScore}</div>\n        </div>\n      </div>\n    );\n  }\n\n  renderWithoutTime() {\n    return (\n      <div className=\"columns is-mobile\">\n        <div className=\"column\">\n          <div className=\"country\">{this.props.home}</div>\n          <div className=\"score\">{this.props.homeScore}</div>\n        </div>\n        <div className=\"column\">\n          <div className=\"country\">{this.props.away}</div>\n          <div className=\"score\">{this.props.awayScore}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default InPlay;\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport \"./App.css\";\n\nimport packageJson from \"./package.json.lnk\";\n\nimport Navbar from \"./components/Navbar\";\nimport Footer from \"./components/Footer\";\nimport InPlay from \"./components/InPlay\";\n\nimport EventService, { EventNames } from \"./services/EventService\";\n\nconst NextMatch = props => {\n  return (\n    <div>\n      <b>{props.match.home}</b> vs <b>{props.match.away}</b> ({moment(props.match.date)\n        .local()\n        .format(\"DD MMM, HH:mm\")})\n    </div>\n  );\n};\n\nconst FinishedMatch = props => {\n  return (\n    <div>\n      <b>\n        {props.match.home} <u>{props.match.homeScore}</u>\n      </b>{\" \"}\n      -{\" \"}\n      <b>\n        {props.match.away} <u>{props.match.awayScore}</u>\n      </b>{\" \"}\n      ({moment(props.match.date)\n        .local()\n        .format(\"DD MMM, HH:mm\")})\n    </div>\n  );\n};\n\nclass App extends Component {\n  state = {\n    matchesInPlay: [],\n    matchesFinished: [],\n    matchesUpcoming: [],\n    nextMatches: []\n  };\n\n  // for testing purposes\n  toggleInPlay = () => {\n    const newState = { ...this.state };\n\n    if (this.state.matchesInPlay.length) {\n      newState.matchesInPlay = [];\n    } else {\n      newState.matchesInPlay = [\n        {\n          id: \"xxx\",\n          home: \"Nigeria\",\n          homeScore: \"0\",\n          away: \"Croatia\",\n          awayScore: \"2\"\n        }\n        /*\n        {\n          id: \"yyy\",\n          home: \"Spain\",\n          homeScore: \"2\",\n          away: \"Germany\",\n          awayScore: \"3\"\n        },\n        */\n      ];\n    }\n\n    this.setState(newState);\n  };\n\n  handleOnDataUpdate = e => {\n    this.setState({\n      matchesInPlay: e.matchesInPlay,\n      matchesFinished: e.matchesFinished,\n      matchesUpcoming: e.matchesUpcoming,\n      nextMatches: e.nextMatches\n    });\n  };\n\n  componentDidMount() {\n    EventService.listenEvent(EventNames.ON_DATA_UPDATE, \"app\", this.handleOnDataUpdate);\n  }\n\n  componentWillUnmount() {\n    EventService.unlistenEvent(EventNames.ON_DATA_UPDATE, \"app\");\n  }\n\n  render() {\n    return (\n      <div ref={elem => (this.appElem = elem)}>\n        <section className={\"hero is-fullheight \" + (this.state.matchesInPlay.length ? \"is-success\" : \"is-info\")}>\n          <div className=\"hero-head\">\n            <Navbar toggleInPlay={this.toggleInPlay} env={this.props.env} />\n          </div>\n\n          <div className=\"hero-body\">\n            <div className=\"container wc-dashboard has-text-centered\">\n              {this.renderInPlay()}\n              {this.renderNextUp()}\n            </div>\n          </div>\n\n          <div className=\"hero-foot\">\n            <Footer version={packageJson.version} />\n          </div>\n        </section>\n      </div>\n    );\n  }\n\n  renderInPlay() {\n    if (this.state.matchesInPlay.length === 0) {\n      return this.renderFinished();\n    }\n\n    return this.state.matchesInPlay.map(match => {\n      return (\n        <div key={match.id}>\n          <InPlay home={match.home} homeScore={match.homeScore} away={match.away} awayScore={match.awayScore} time={match.time} />\n          <hr />\n        </div>\n      );\n    });\n  }\n\n  renderFinished() {\n    if (!this.state.matchesFinished.length) {\n      return;\n    }\n\n    return (\n      <div className=\"columns match-list\">\n        <div className=\"column\">\n          <div className=\"match-deets\">\n            Finished <br />\n            <FinishedMatch match={this.state.matchesFinished[this.state.matchesFinished.length - 1]} />\n            {/*this.state.matchesFinished.map(match => {\n              return <FinishedMatch key={match.id} match={match} />;\n            })*/}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderNextUp() {\n    if (this.state.nextMatches.length === 0) {\n      return;\n    }\n    \n    return (\n      <div className=\"columns match-list\">\n        <div className=\"column\">\n          <div className=\"match-deets\">\n            Next up <br />\n            {this.state.nextMatches.map(match => {\n              return <NextMatch key={match.id} match={match} />;\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"./styles/css/bulma-woldcup-live.css\";\n// import 'font-awesome/css/font-awesome.css';\n\nimport fontawesome from \"@fortawesome/fontawesome\";\nimport faUser from \"@fortawesome/fontawesome-free-solid/faUser\";\nimport faCircle from \"@fortawesome/fontawesome-free-regular/faCircle\";\nimport faUserCircle from \"@fortawesome/fontawesome-free-regular/faUserCircle\";\nimport faAngleDown from \"@fortawesome/fontawesome-free-solid/faAngleDown\";\nimport faTimes from \"@fortawesome/fontawesome-free-solid/faTimes\";\nimport faFacebook from \"@fortawesome/fontawesome-free-brands/faFacebook\";\nimport faGithub from \"@fortawesome/fontawesome-free-brands/faGithub\";\nimport faCircleNotch from \"@fortawesome/fontawesome-free-solid/faCircleNotch\";\nimport faTrophy from \"@fortawesome/fontawesome-free-solid/faTrophy\";\n\nimport AppService from \"./services/AppService\";\n\nfontawesome.library.add(faUser);\nfontawesome.library.add(faCircle);\nfontawesome.library.add(faUserCircle);\nfontawesome.library.add(faTimes);\nfontawesome.library.add(faAngleDown);\nfontawesome.library.add(faFacebook);\nfontawesome.library.add(faGithub);\nfontawesome.library.add(faCircleNotch);\nfontawesome.library.add(faTrophy);\n\n// import registerServiceWorker from './registerServiceWorker';\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst env = urlParams.has(\"env\") ? urlParams.get(\"env\") : \"prod\";\n\nReactDOM.render(<App env={env} />, document.getElementById(\"root\"));\n// registerServiceWorker();\n\nAppService.init(env).then(() => {\n  console.log(\"init \" + env);\n});\n"],"sourceRoot":""}